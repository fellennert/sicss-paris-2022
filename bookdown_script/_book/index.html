<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Course script for SICSS Paris</title>
  <meta name="description" content="This book serves as an accompanying script for the R sessions of the 2022 Summer Institute for Computational Social Science (SICSS), taking place at the Institut Polytechnique de Paris." />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="Course script for SICSS Paris" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This book serves as an accompanying script for the R sessions of the 2022 Summer Institute for Computational Social Science (SICSS), taking place at the Institut Polytechnique de Paris." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Course script for SICSS Paris" />
  
  <meta name="twitter:description" content="This book serves as an accompanying script for the R sessions of the 2022 Summer Institute for Computational Social Science (SICSS), taking place at the Institut Polytechnique de Paris." />
  

<meta name="author" content="Germain Gauthier" />
<meta name="author" content="Felix Lennert" />
<meta name="author" content="Étienne Ollion" />


<meta name="date" content="2022-06-23" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  

<link rel="next" href="day2.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/vembedr-0.1.5/css/vembedr.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="libs/str_view-binding-1.4.0/str_view.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Script for SICSS-Paris 2022</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#outline"><i class="fa fa-check"></i><b>1.1</b> Outline</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#setup-procedure"><i class="fa fa-check"></i><b>1.2</b> Setup procedure</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="index.html"><a href="index.html#registration-for-api-usage"><i class="fa fa-check"></i><b>1.2.1</b> Registration for API usage</a></li>
<li class="chapter" data-level="1.2.2" data-path="index.html"><a href="index.html#docker-for-rselenium"><i class="fa fa-check"></i><b>1.2.2</b> Docker for <code>RSelenium</code></a></li>
<li class="chapter" data-level="1.2.3" data-path="index.html"><a href="index.html#some-useful-functions"><i class="fa fa-check"></i><b>1.2.3</b> Some useful functions</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#further-links"><i class="fa fa-check"></i><b>1.3</b> Further links</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#last-but-not-least"><i class="fa fa-check"></i><b>1.4</b> Last but not least</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="day2.html"><a href="day2.html"><i class="fa fa-check"></i><b>2</b> Scraping the web</a>
<ul>
<li class="chapter" data-level="2.1" data-path="day2.html"><a href="day2.html#making-requests"><i class="fa fa-check"></i><b>2.1</b> Making requests</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="day2.html"><a href="day2.html#session"><i class="fa fa-check"></i><b>2.1.1</b> <code>session()</code></a></li>
<li class="chapter" data-level="2.1.2" data-path="day2.html"><a href="day2.html#forms"><i class="fa fa-check"></i><b>2.1.2</b> Forms</a></li>
<li class="chapter" data-level="2.1.3" data-path="day2.html"><a href="day2.html#scraping-hacks"><i class="fa fa-check"></i><b>2.1.3</b> Scraping hacks</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="day2.html"><a href="day2.html#application-programming-interfaces-apis"><i class="fa fa-check"></i><b>2.2</b> Application Programming Interfaces (APIs)</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="day2.html"><a href="day2.html#obtaining-their-data"><i class="fa fa-check"></i><b>2.2.1</b> Obtaining their data</a></li>
<li class="chapter" data-level="2.2.2" data-path="day2.html"><a href="day2.html#rtweet"><i class="fa fa-check"></i><b>2.2.2</b> <code>rtweet</code></a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="day2.html"><a href="day2.html#further-links-1"><i class="fa fa-check"></i><b>2.3</b> Further links</a></li>
<li class="chapter" data-level="2.4" data-path="day2.html"><a href="day2.html#exercises"><i class="fa fa-check"></i><b>2.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="day3.html"><a href="day3.html"><i class="fa fa-check"></i><b>3</b> Scraping the web – extracting data</a>
<ul>
<li class="chapter" data-level="3.1" data-path="day3.html"><a href="day3.html#html-101"><i class="fa fa-check"></i><b>3.1</b> HTML 101</a></li>
<li class="chapter" data-level="3.2" data-path="day3.html"><a href="day3.html#extracting-content-in-rvest"><i class="fa fa-check"></i><b>3.2</b> Extracting content in <code>rvest</code></a></li>
<li class="chapter" data-level="3.3" data-path="day3.html"><a href="day3.html#scraping-html-pages-with-rvest"><i class="fa fa-check"></i><b>3.3</b> Scraping HTML pages with <code>rvest</code></a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="day3.html"><a href="day3.html#html_text-and-html_text2"><i class="fa fa-check"></i><b>3.3.1</b> <code>html_text()</code> and <code>html_text2()</code></a></li>
<li class="chapter" data-level="3.3.2" data-path="day3.html"><a href="day3.html#extracting-tables"><i class="fa fa-check"></i><b>3.3.2</b> Extracting tables</a></li>
<li class="chapter" data-level="3.3.3" data-path="day3.html"><a href="day3.html#extracting-attributes"><i class="fa fa-check"></i><b>3.3.3</b> Extracting attributes</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="day3.html"><a href="day3.html#automating-scraping"><i class="fa fa-check"></i><b>3.4</b> Automating scraping</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="day3.html"><a href="day3.html#looping-over-pages"><i class="fa fa-check"></i><b>3.4.1</b> Looping over pages</a></li>
<li class="chapter" data-level="3.4.2" data-path="day3.html"><a href="day3.html#letting-the-scraper-navigate-on-its-own"><i class="fa fa-check"></i><b>3.4.2</b> Letting the scraper navigate on its own</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="day3.html"><a href="day3.html#conclusion"><i class="fa fa-check"></i><b>3.5</b> Conclusion</a></li>
<li class="chapter" data-level="3.6" data-path="day3.html"><a href="day3.html#further-links-2"><i class="fa fa-check"></i><b>3.6</b> Further links</a></li>
<li class="chapter" data-level="3.7" data-path="day3.html"><a href="day3.html#exercises-1"><i class="fa fa-check"></i><b>3.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="day4.html"><a href="day4.html"><i class="fa fa-check"></i><b>4</b> Text preprocessing</a>
<ul>
<li class="chapter" data-level="4.1" data-path="day4.html"><a href="day4.html#basic-manipulations"><i class="fa fa-check"></i><b>4.1</b> Basic manipulations</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="day4.html"><a href="day4.html#changing-the-case-of-the-words"><i class="fa fa-check"></i><b>4.1.1</b> Changing the case of the words</a></li>
<li class="chapter" data-level="4.1.2" data-path="day4.html"><a href="day4.html#determining-a-strings-length"><i class="fa fa-check"></i><b>4.1.2</b> Determining a string’s length</a></li>
<li class="chapter" data-level="4.1.3" data-path="day4.html"><a href="day4.html#extracting-particular-characters"><i class="fa fa-check"></i><b>4.1.3</b> Extracting particular characters</a></li>
<li class="chapter" data-level="4.1.4" data-path="day4.html"><a href="day4.html#concatenating-strings"><i class="fa fa-check"></i><b>4.1.4</b> Concatenating strings</a></li>
<li class="chapter" data-level="4.1.5" data-path="day4.html"><a href="day4.html#repetition"><i class="fa fa-check"></i><b>4.1.5</b> Repetition</a></li>
<li class="chapter" data-level="4.1.6" data-path="day4.html"><a href="day4.html#removing-unnecessary-whitespaces"><i class="fa fa-check"></i><b>4.1.6</b> Removing unnecessary whitespaces</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="day4.html"><a href="day4.html#regular-expressions"><i class="fa fa-check"></i><b>4.2</b> Regular expressions</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="day4.html"><a href="day4.html#literal-characters"><i class="fa fa-check"></i><b>4.2.1</b> Literal characters</a></li>
<li class="chapter" data-level="4.2.2" data-path="day4.html"><a href="day4.html#metacharacters"><i class="fa fa-check"></i><b>4.2.2</b> Metacharacters</a></li>
<li class="chapter" data-level="4.2.3" data-path="day4.html"><a href="day4.html#sets-of-characters"><i class="fa fa-check"></i><b>4.2.3</b> Sets of characters</a></li>
<li class="chapter" data-level="4.2.4" data-path="day4.html"><a href="day4.html#anchors"><i class="fa fa-check"></i><b>4.2.4</b> Anchors</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="day4.html"><a href="day4.html#more-advanced-string-manipulation"><i class="fa fa-check"></i><b>4.3</b> More advanced string manipulation</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="day4.html"><a href="day4.html#detect-matches"><i class="fa fa-check"></i><b>4.3.1</b> Detect matches</a></li>
<li class="chapter" data-level="4.3.2" data-path="day4.html"><a href="day4.html#mutating-strings"><i class="fa fa-check"></i><b>4.3.2</b> Mutating strings</a></li>
<li class="chapter" data-level="4.3.3" data-path="day4.html"><a href="day4.html#extracting-text"><i class="fa fa-check"></i><b>4.3.3</b> Extracting text</a></li>
<li class="chapter" data-level="4.3.4" data-path="day4.html"><a href="day4.html#split-vectors"><i class="fa fa-check"></i><b>4.3.4</b> Split vectors</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="day4.html"><a href="day4.html#featurization-of-text"><i class="fa fa-check"></i><b>4.4</b> Featurization of text</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="day4.html"><a href="day4.html#pre-processing-with-tidytext"><i class="fa fa-check"></i><b>4.4.1</b> Pre-processing with <code>tidytext</code></a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="day4.html"><a href="day4.html#preprocessing-with-spacy"><i class="fa fa-check"></i><b>4.5</b> Preprocessing with <code>spaCy</code></a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="day4.html"><a href="day4.html#initializing-spacy"><i class="fa fa-check"></i><b>4.5.1</b> Initializing spacy</a></li>
<li class="chapter" data-level="4.5.2" data-path="day4.html"><a href="day4.html#spacy_parse"><i class="fa fa-check"></i><b>4.5.2</b> <code>spacy_parse()</code></a></li>
<li class="chapter" data-level="4.5.3" data-path="day4.html"><a href="day4.html#pos-tags-ner-and-noun-phrases"><i class="fa fa-check"></i><b>4.5.3</b> POS tags, NER, and noun phrases</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="day4.html"><a href="day4.html#first-analyses"><i class="fa fa-check"></i><b>4.6</b> First analyses</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="day4.html"><a href="day4.html#counting-words-per-document"><i class="fa fa-check"></i><b>4.6.1</b> Counting words per document</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="day4.html"><a href="day4.html#converting-between-formats"><i class="fa fa-check"></i><b>4.7</b> Converting between formats</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="day4.html"><a href="day4.html#document-term-matrix"><i class="fa fa-check"></i><b>4.7.1</b> Document-term matrix</a></li>
<li class="chapter" data-level="4.7.2" data-path="day4.html"><a href="day4.html#document-feature-matrix"><i class="fa fa-check"></i><b>4.7.2</b> Document-feature matrix</a></li>
<li class="chapter" data-level="4.7.3" data-path="day4.html"><a href="day4.html#corpus-objects"><i class="fa fa-check"></i><b>4.7.3</b> Corpus objects</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="day4.html"><a href="day4.html#further-links-3"><i class="fa fa-check"></i><b>4.8</b> Further links</a></li>
<li class="chapter" data-level="4.9" data-path="day4.html"><a href="day4.html#exercises-2"><i class="fa fa-check"></i><b>4.9</b> Exercises</a>
<ul>
<li class="chapter" data-level="4.9.1" data-path="day4.html"><a href="day4.html#regexes"><i class="fa fa-check"></i><b>4.9.1</b> Regexes</a></li>
<li class="chapter" data-level="4.9.2" data-path="day4.html"><a href="day4.html#preprocessing"><i class="fa fa-check"></i><b>4.9.2</b> Preprocessing</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="day5.html"><a href="day5.html"><i class="fa fa-check"></i><b>5</b> Machine Learning</a>
<ul>
<li class="chapter" data-level="5.1" data-path="day5.html"><a href="day5.html#split-data"><i class="fa fa-check"></i><b>5.1</b> Split data</a></li>
<li class="chapter" data-level="5.2" data-path="day5.html"><a href="day5.html#pre-processing-and-featurization"><i class="fa fa-check"></i><b>5.2</b> Pre-processing and featurization</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="day5.html"><a href="day5.html#textrecipes-basic-example"><i class="fa fa-check"></i><b>5.2.1</b> <code>textrecipes</code> – basic example</a></li>
<li class="chapter" data-level="5.2.2" data-path="day5.html"><a href="day5.html#textrecipes-further-preprocessing-steps"><i class="fa fa-check"></i><b>5.2.2</b> <code>textrecipes</code> – further preprocessing steps</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="day5.html"><a href="day5.html#model-specification"><i class="fa fa-check"></i><b>5.3</b> Model specification</a></li>
<li class="chapter" data-level="5.4" data-path="day5.html"><a href="day5.html#model-training-workflows"><i class="fa fa-check"></i><b>5.4</b> Model training – <code>workflows</code></a></li>
<li class="chapter" data-level="5.5" data-path="day5.html"><a href="day5.html#model-evaluation"><i class="fa fa-check"></i><b>5.5</b> Model evaluation</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="day5.html"><a href="day5.html#hyperparameter-tuning"><i class="fa fa-check"></i><b>5.5.1</b> Hyperparameter tuning</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="day5.html"><a href="day5.html#final-fit"><i class="fa fa-check"></i><b>5.6</b> Final fit</a></li>
<li class="chapter" data-level="5.7" data-path="day5.html"><a href="day5.html#latent-dirichlet-allocation-lda"><i class="fa fa-check"></i><b>5.7</b> Latent Dirichlet Allocation (LDA)</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="day5.html"><a href="day5.html#document-term-matrix-1"><i class="fa fa-check"></i><b>5.7.1</b> Document-term matrix</a></li>
<li class="chapter" data-level="5.7.2" data-path="day5.html"><a href="day5.html#inferring-the-number-of-topics"><i class="fa fa-check"></i><b>5.7.2</b> Inferring the number of topics</a></li>
<li class="chapter" data-level="5.7.3" data-path="day5.html"><a href="day5.html#sense-making"><i class="fa fa-check"></i><b>5.7.3</b> Sense-making</a></li>
<li class="chapter" data-level="5.7.4" data-path="day5.html"><a href="day5.html#document-topic-probabilities"><i class="fa fa-check"></i><b>5.7.4</b> Document-topic probabilities</a></li>
<li class="chapter" data-level="5.7.5" data-path="day5.html"><a href="day5.html#structural-topic-models"><i class="fa fa-check"></i><b>5.7.5</b> Structural Topic Models</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="day5.html"><a href="day5.html#further-readings"><i class="fa fa-check"></i><b>5.8</b> Further readings</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="day6.html"><a href="day6.html"><i class="fa fa-check"></i><b>6</b> Word Embeddings</a></li>
<li class="chapter" data-level="7" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>7</b> References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Course script for SICSS Paris</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="header">
<h1 class="title">Course script for SICSS Paris</h1>
<p class="author"><em>Germain Gauthier<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a></em></p>
<p class="author"><em>Felix Lennert<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a></em></p>
<p class="author"><em>Étienne Ollion<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a></em></p>
<p class="date"><em>2022-06-23</em></p>
</div>
<div id="day1" class="section level1 hasAnchor" number="1">
<h1><span class="header-section-number">Day 1</span> Introduction<a href="index.html#day1" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Dear student,</p>
<p>if you read this script, you are either participating in the SICSS itself or came across it while browsing for resources for your studies. In any case, if you find inconsistencies or mistakes, please do not hesitate to point them out by shooting an email to <a href="mailto:felix.lennert@ensae.fr" class="email">felix.lennert@ensae.fr</a>.</p>
<div id="outline" class="section level2 hasAnchor" number="1.1">
<h2><span class="header-section-number">1.1</span> Outline<a href="index.html#outline" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This script will introduce you to the automated acquisition and subsequent quantitative analysis of text data using R. Over the last decades, more and more text has become readily available. Think for example of Social Networking Platforms, online fora, Google Books, newspaper articles, the fact that YouTube can generate subtitles for all of its videos, or the fact that administrative records are increasingly digitized. Social scientists of course have decades of experience analyzing these things, yet they used to be constrained by data availability and, hence, their data sets used to be way smaller and could be processed by humans. To make the most out of the newly available data sets we mentioned above and to repurpose them for social scientific research, we need to use tools from the information and computer sciences. Some are fairly old such as basic dictionary-based sentiment analysis whose precursors were introduced in the 1960s, others are as recent as the early 2000s (LDA) or even 2014 (word2vec).</p>
<p>This script will be split into 5 chapters. Each chapter can be seen as representing a day of the summer school. Each chapter contains a “further links” section and exercises. Data are provided through dropbox links that are directly executable from the script. The raw RMD files are stored in a <a href="https://github.com/fellennert/sicss-paris-2022">dedicated GitHub repository</a><a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a>.</p>
<p>This introductory chapter is intended to help you set up your RStudio by installing all the required packages. Some of them (<code>spacyr</code>!) rely on a working Python interpreter and are therefore a bit more finicky to set up. We will provide links to step-by-step guides to help you with the process but not cover it in the tutorial. The script will heavily rely on packages from the <code>tidyverse</code> with which we assume familiarity, in particular with the <code>dplyr</code> and <code>purrr</code> packages. At the end of chapter 1, we include links to introductions we deem useful.</p>
<p>Day <a href="day2.html#day2">2</a> introduces web scraping. You will become familiar with making calls to different structured web pages through <code>rvest</code> and <code>rselenium</code>). APIs and how you can tap them will be introduced, too.</p>
<p>Day <a href="day3.html#day3">3</a> gives you insight into techniques for scraping unstructured web pages. This is usually achieved using CSS selectors.</p>
<p>Day <a href="day4.html#day4">4</a> is dedicated to the featurization and descriptive analysis of text.</p>
<p>Day <a href="day5.html#day5">5</a> introduces both unsupervised and supervised machine learning approaches for the classification and analysis of text.</p>
<p>Day <a href="day6.html#day6">6</a> provides a glimpse of how word embedding techniques can be used. It will showcase how <code>word2vec</code> can be used to learn embeddings from text from scratch, as well as some arithmetic calculations using these embeddings.</p>
<p>The following chapters draw heavily on packages from the <code>tidyverse</code> <span class="citation">(<a href="#ref-wickham_welcome_2019" role="doc-biblioref">Wickham et al. 2019</a>)</span>, <code>tidytext</code> <span class="citation">(<a href="#ref-silge_tidytext_2016" role="doc-biblioref">Silge and Robinson 2016</a>)</span>, and <code>tidymodels</code> <span class="citation">(<a href="#ref-kuhn_tidymodels_2020" role="doc-biblioref">Kuhn and Wickham 2020</a>)</span>, as well as the two excellent books “Text Mining with R: A Tidy Approach” <span class="citation">(<a href="#ref-silge_text_2017" role="doc-biblioref">Silge and Robinson 2017</a>)</span> and “Supervised Machine Learning for Text Analysis in R” <span class="citation">(<a href="#ref-hvitfeldt_supervised_2022" role="doc-biblioref">Hvitfeldt and Silge 2022</a>)</span>. Examples and inspiration are often drawn from blog posts and/or other tutorials, and we will give credit wherever credit is due. Moreover, you will find further readings at the end of each section as well as exercises at the end of the respective chapter.</p>
</div>
<div id="setup-procedure" class="section level2 hasAnchor" number="1.2">
<h2><span class="header-section-number">1.2</span> Setup procedure<a href="index.html#setup-procedure" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The next chunk serves the purpose of preparing your machine for the days to come. It will install all the necessary packages.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="index.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="st">&quot;tidyverse&quot;</span> <span class="sc">%in%</span> <span class="fu">installed.packages</span>()[, <span class="dv">1</span>]) <span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>)</span>
<span id="cb1-2"><a href="index.html#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="index.html#cb1-3" aria-hidden="true" tabindex="-1"></a>packages <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb1-4"><a href="index.html#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;broom&quot;</span>,</span>
<span id="cb1-5"><a href="index.html#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;devtools&quot;</span>,</span>
<span id="cb1-6"><a href="index.html#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;discrim&quot;</span>,</span>
<span id="cb1-7"><a href="index.html#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;forcats&quot;</span>,</span>
<span id="cb1-8"><a href="index.html#cb1-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;glmnet&quot;</span>,</span>
<span id="cb1-9"><a href="index.html#cb1-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;hcandersenr&quot;</span>,</span>
<span id="cb1-10"><a href="index.html#cb1-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;httr&quot;</span>,</span>
<span id="cb1-11"><a href="index.html#cb1-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;irlba&quot;</span>,</span>
<span id="cb1-12"><a href="index.html#cb1-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;janitor&quot;</span>,</span>
<span id="cb1-13"><a href="index.html#cb1-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;jsonlite&quot;</span>,</span>
<span id="cb1-14"><a href="index.html#cb1-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;ldatuning&quot;</span>,</span>
<span id="cb1-15"><a href="index.html#cb1-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;LDAvis&quot;</span>,</span>
<span id="cb1-16"><a href="index.html#cb1-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;lubridate&quot;</span>, </span>
<span id="cb1-17"><a href="index.html#cb1-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;magrittr&quot;</span>,</span>
<span id="cb1-18"><a href="index.html#cb1-18" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;naivebayes&quot;</span>,</span>
<span id="cb1-19"><a href="index.html#cb1-19" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;polite&quot;</span>,</span>
<span id="cb1-20"><a href="index.html#cb1-20" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;ranger&quot;</span>,</span>
<span id="cb1-21"><a href="index.html#cb1-21" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;RSelenium&quot;</span>,</span>
<span id="cb1-22"><a href="index.html#cb1-22" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;rtweet&quot;</span>,</span>
<span id="cb1-23"><a href="index.html#cb1-23" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;rvest&quot;</span>,</span>
<span id="cb1-24"><a href="index.html#cb1-24" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;SnowballC&quot;</span>,</span>
<span id="cb1-25"><a href="index.html#cb1-25" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;sotu&quot;</span>,</span>
<span id="cb1-26"><a href="index.html#cb1-26" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;spacyr&quot;</span>,</span>
<span id="cb1-27"><a href="index.html#cb1-27" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;stm&quot;</span>, </span>
<span id="cb1-28"><a href="index.html#cb1-28" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;stopwords&quot;</span>,</span>
<span id="cb1-29"><a href="index.html#cb1-29" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;stminsights&quot;</span>,</span>
<span id="cb1-30"><a href="index.html#cb1-30" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;textdata&quot;</span>,</span>
<span id="cb1-31"><a href="index.html#cb1-31" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;textrecipes&quot;</span>,</span>
<span id="cb1-32"><a href="index.html#cb1-32" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;tidymodels&quot;</span>,</span>
<span id="cb1-33"><a href="index.html#cb1-33" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;tidytext&quot;</span>, </span>
<span id="cb1-34"><a href="index.html#cb1-34" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;tidyverse&quot;</span>, </span>
<span id="cb1-35"><a href="index.html#cb1-35" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;topicmodels&quot;</span>, </span>
<span id="cb1-36"><a href="index.html#cb1-36" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;tsne&quot;</span>,</span>
<span id="cb1-37"><a href="index.html#cb1-37" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;tune&quot;</span>,</span>
<span id="cb1-38"><a href="index.html#cb1-38" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;word2vec&quot;</span>,</span>
<span id="cb1-39"><a href="index.html#cb1-39" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;wordcloud&quot;</span>,</span>
<span id="cb1-40"><a href="index.html#cb1-40" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;workflows&quot;</span>, </span>
<span id="cb1-41"><a href="index.html#cb1-41" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;vembedr&quot;</span>,</span>
<span id="cb1-42"><a href="index.html#cb1-42" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;yardstick&quot;</span></span>
<span id="cb1-43"><a href="index.html#cb1-43" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-44"><a href="index.html#cb1-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-45"><a href="index.html#cb1-45" aria-hidden="true" tabindex="-1"></a>purrr<span class="sc">::</span><span class="fu">walk</span>(packages, <span class="sc">~</span>{</span>
<span id="cb1-46"><a href="index.html#cb1-46" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span>.x <span class="sc">%in%</span> <span class="fu">installed.packages</span>()[, <span class="dv">1</span>]) <span class="fu">install.packages</span>(.x)</span>
<span id="cb1-47"><a href="index.html#cb1-47" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb1-48"><a href="index.html#cb1-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-49"><a href="index.html#cb1-49" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="st">&quot;tif&quot;</span> <span class="sc">%in%</span> <span class="fu">installed.packages</span>()[, <span class="dv">1</span>]) devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">&quot;ropensci/tif&quot;</span>)</span></code></pre></div>
<p>While we would strongly advise you to integrate RStudio projects into your workflow, it is not required for SICSS-Paris. We will work with RMarkdown (RMD) documents which facilitate working with file paths significantly insofar as they automatically assume the folder they are stored in as the current working directory. In our case, this is not necessary though, since everything can be directly downloaded from Dropbox.</p>
<div id="registration-for-api-usage" class="section level3 hasAnchor" number="1.2.1">
<h3><span class="header-section-number">1.2.1</span> Registration for API usage<a href="index.html#registration-for-api-usage" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In the section on APIs, we will play with the New York Times API. If you want to follow the script on your machine, you need to sign up for access and acquire an API key. Find instructions for registering <a href="https://developer.nytimes.com/get-started">here</a>.</p>
<p>Also, if you want to play with the <code>rtweet</code> package, you need a Twitter account.</p>
</div>
<div id="docker-for-rselenium" class="section level3 hasAnchor" number="1.2.2">
<h3><span class="header-section-number">1.2.2</span> Docker for <code>RSelenium</code><a href="index.html#docker-for-rselenium" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When you work with <code>RSelenium</code>, what happens is that you simulate a browser which you then control through R. For multiple reasons, the preferred procedure is to run the headless browser in a Docker container, a virtual machine inside your laptop. Hence, if you are planning on using <code>RSelenium</code>, you should install Docker first and follow <a href="https://callumgwtaylor.github.io/post/using-rselenium-and-docker-to-webscrape-in-r-using-the-who-snake-database/">this tutorial</a> to set it up properly. (Please note that if you’re on a non-Intel Mac, like one of the authors of this script, you are screwed and Docker’s browser module will not work. We have not found a functioning workaround yet. So no scraping with Selenium for you.)</p>
</div>
<div id="some-useful-functions" class="section level3 hasAnchor" number="1.2.3">
<h3><span class="header-section-number">1.2.3</span> Some useful functions<a href="index.html#some-useful-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We assume your familiarity with R. However, we are fully aware that coding styles (or “dialects”) differ. Therefore, just a quick demonstration of some of the building blocks of the tidyverse.</p>
<p>We use the “old” pipe – <code>%&gt;%</code>. The pipe takes its argument on the left and forwards it to the next function, including it there as the first argument unless a <code>.</code> placeholder is provided somewhere. <code>%&lt;&gt;%</code> takes the argument on the left and modifies it at the same time.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="index.html#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(magrittr)</span>
<span id="cb2-2"><a href="index.html#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>)) <span class="sc">==</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>) <span class="sc">%&gt;%</span> <span class="fu">mean</span>()</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="index.html#cb4-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">%&gt;%</span> <span class="fu">lm</span>(mpg <span class="sc">~</span> cyl, <span class="at">data =</span> .)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = mpg ~ cyl, data = .)
## 
## Coefficients:
## (Intercept)          cyl  
##      37.885       -2.876</code></pre>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="index.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># … is the same as…</span></span>
<span id="cb6-2"><a href="index.html#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">lm</span>(mpg <span class="sc">~</span> cyl, <span class="at">data =</span> mtcars)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = mpg ~ cyl, data = mtcars)
## 
## Coefficients:
## (Intercept)          cyl  
##      37.885       -2.876</code></pre>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="index.html#cb8-1" aria-hidden="true" tabindex="-1"></a>cars <span class="ot">&lt;-</span> mtcars</span>
<span id="cb8-2"><a href="index.html#cb8-2" aria-hidden="true" tabindex="-1"></a>cars <span class="sc">%&lt;&gt;%</span> .[[<span class="dv">1</span>]] <span class="sc">%&gt;%</span> <span class="fu">mean</span>()</span>
<span id="cb8-3"><a href="index.html#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co"># … is the same as…</span></span>
<span id="cb8-4"><a href="index.html#cb8-4" aria-hidden="true" tabindex="-1"></a>cars <span class="ot">&lt;-</span> cars <span class="sc">%&gt;%</span> .[[<span class="dv">1</span>]] <span class="sc">%&gt;%</span> <span class="fu">mean</span>()</span></code></pre></div>
<p>The important terms in the <code>dplyr</code> package are <code>mutate()</code>, <code>select()</code>, <code>filter()</code>, <code>summarize()</code> (used with <code>group_by()</code>), and <code>arrange()</code>. <code>pull()</code> can be used to extract a vector.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="index.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<pre><code>## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ──</code></pre>
<pre><code>## ✔ ggplot2 3.3.6     ✔ purrr   0.3.4
## ✔ tibble  3.1.7     ✔ dplyr   1.0.9
## ✔ tidyr   1.2.0     ✔ stringr 1.4.0
## ✔ readr   2.1.2     ✔ forcats 0.5.1</code></pre>
<pre><code>## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
## ✖ tidyr::extract()   masks magrittr::extract()
## ✖ dplyr::filter()    masks stats::filter()
## ✖ dplyr::lag()       masks stats::lag()
## ✖ purrr::set_names() masks magrittr::set_names()</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="index.html#cb13-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a href="index.html#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rownames_to_column</span>(<span class="st">&quot;model&quot;</span>) <span class="sc">%&gt;%</span> <span class="co"># add rownames as a column</span></span>
<span id="cb13-3"><a href="index.html#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(model, mpg, cyl, hp) <span class="sc">%&gt;%</span> <span class="co"># select 4 columns</span></span>
<span id="cb13-4"><a href="index.html#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(cyl) <span class="sc">%&gt;%</span> <span class="co"># arrange them according to number of cylinders</span></span>
<span id="cb13-5"><a href="index.html#cb13-5" aria-hidden="true" tabindex="-1"></a> <span class="co"># filter(cyl %in% c(4, 6)) %&gt;% # only retain values where condition is TRUE</span></span>
<span id="cb13-6"><a href="index.html#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">model_lowercase =</span> <span class="fu">str_to_lower</span>(model)) <span class="sc">%&gt;%</span> <span class="co"># change modelnames to lowercase</span></span>
<span id="cb13-7"><a href="index.html#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cyl) <span class="sc">%&gt;%</span> <span class="co"># change scope, effectively split up tibbles according to group_variable</span></span>
<span id="cb13-8"><a href="index.html#cb13-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean_mpg =</span> <span class="fu">mean</span>(mpg)) <span class="sc">%&gt;%</span> <span class="co"># drop all other columns, collapse rows</span></span>
<span id="cb13-9"><a href="index.html#cb13-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(cyl) <span class="co"># pull vector</span></span></code></pre></div>
<pre><code>## [1] 4 6 8</code></pre>
<p>We also will work with lists. Lesser known functions here come from the <code>purrr</code> package. On one hand, we have the <code>map()</code> family, which applies functions over lists, and <code>pluck()</code> which extracts elements from the list.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="index.html#cb15-1" aria-hidden="true" tabindex="-1"></a>raw_list <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="dv">4</span><span class="sc">:</span><span class="dv">6</span>, <span class="dv">10</span><span class="sc">:</span><span class="dv">42</span>)</span>
<span id="cb15-2"><a href="index.html#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(raw_list)</span></code></pre></div>
<pre><code>## List of 3
##  $ : int [1:4] 1 2 3 4
##  $ : int [1:3] 4 5 6
##  $ : int [1:33] 10 11 12 13 14 15 16 17 18 19 ...</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="index.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">map</span>(raw_list, mean)</span></code></pre></div>
<pre><code>## [[1]]
## [1] 2.5
## 
## [[2]]
## [1] 5
## 
## [[3]]
## [1] 26</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="index.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">map</span>(raw_list, <span class="sc">~</span>{<span class="fu">mean</span>(.x) <span class="sc">%&gt;%</span> <span class="fu">sqrt</span>()})</span></code></pre></div>
<pre><code>## [[1]]
## [1] 1.581139
## 
## [[2]]
## [1] 2.236068
## 
## [[3]]
## [1] 5.09902</code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="index.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">map_dbl</span>(raw_list, mean) <span class="co"># by specifying the type of output, you can reduce the list</span></span></code></pre></div>
<pre><code>## [1]  2.5  5.0 26.0</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="index.html#cb23-1" aria-hidden="true" tabindex="-1"></a>raw_list <span class="sc">%&gt;%</span> <span class="fu">pluck</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] 1 2 3 4</code></pre>
<p>This can also be achieved using a loop. Here, you use an index to loop over objects and do something to their elements.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="index.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (p <span class="cf">in</span> <span class="fu">seq_along</span>(raw_list)){</span>
<span id="cb25-2"><a href="index.html#cb25-2" aria-hidden="true" tabindex="-1"></a>  raw_list[[p]] <span class="ot">&lt;-</span> <span class="fu">mean</span>(raw_list[[p]])</span>
<span id="cb25-3"><a href="index.html#cb25-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Another part of R is functions. They require arguments. Then they do something to these arguments. In the end, they return the last call (if it’s not stored in an object). Otherwise, an object can be returned using <code>return()</code> – this is usually unnecessary though.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="index.html#cb26-1" aria-hidden="true" tabindex="-1"></a>a_plus_b <span class="ot">&lt;-</span> <span class="cf">function</span>(a, b){</span>
<span id="cb26-2"><a href="index.html#cb26-2" aria-hidden="true" tabindex="-1"></a>  a <span class="sc">+</span> b</span>
<span id="cb26-3"><a href="index.html#cb26-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb26-4"><a href="index.html#cb26-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-5"><a href="index.html#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="fu">a_plus_b</span>(<span class="dv">1</span>, <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="index.html#cb28-1" aria-hidden="true" tabindex="-1"></a>a_plus_b <span class="ot">&lt;-</span> <span class="cf">function</span>(a, b){</span>
<span id="cb28-2"><a href="index.html#cb28-2" aria-hidden="true" tabindex="-1"></a> c <span class="ot">&lt;-</span> a <span class="sc">+</span> b</span>
<span id="cb28-3"><a href="index.html#cb28-3" aria-hidden="true" tabindex="-1"></a> <span class="fu">return</span>(c)</span>
<span id="cb28-4"><a href="index.html#cb28-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb28-5"><a href="index.html#cb28-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-6"><a href="index.html#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="fu">a_plus_b</span>(<span class="dv">1</span>, <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
</div>
</div>
<div id="further-links" class="section level2 hasAnchor" number="1.3">
<h2><span class="header-section-number">1.3</span> Further links<a href="index.html#further-links" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Each chapter will contain a <em>Further links</em> section, where we include useful online resources which you can consume to delve deeper into the matters discussed in the respective chapter.</p>
<ul>
<li>Further material for learning covering each section of this script can be found on the <a href="https://rstudio.cloud/learn/primers">RStudio website</a>.</li>
<li>A more accessible guide to singular tidyverse packages can be found in the <code>introverse</code> R package. Find instructions for how to install and use it <a href="https://spielmanlab.github.io/introverse/index.html">online</a>.</li>
<li>The <a href="https://sicss.io/boot_camp/">SICSS bootcamp</a> gets you up and started promptly; wondering if you require a recap? – take the quizzes before going through the material.</li>
<li>The <a href="https://r4ds.had.co.nz/">R4DS book</a> is a good mix of approachable introduction, technical description, real-world examples, and interesting exercises. You can read it in a superficial as well as in an in-depth manner. <a href="https://jrnold.github.io/r4ds-exercise-solutions/">Solutions for the exercises</a> are available as well. The following chapters are relevant (ordered from most to least relevant): 2-4-6-5-3-7-11-27-14-15-16-19-21.</li>
</ul>
</div>
<div id="last-but-not-least" class="section level2 hasAnchor" number="1.4">
<h2><span class="header-section-number">1.4</span> Last but not least<a href="index.html#last-but-not-least" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Learning R – and programming in general – is tough. More often than not, things will not go the way you want them to go. Mostly, this is due to minor typos or the fact that R is case-sensitive. However, don’t fret. Only practice makes perfect. It is perfectly normal to not comprehend error messages. The following video illustrates this:</p>
<div class="vembedr">
<div>
<iframe src="https://www.youtube.com/embed/HluANRwPyNo" width="533" height="300" frameborder="0" allowfullscreen="" data-external="1"></iframe>
</div>
</div>
<p>If questions arise that a Google search cannot answer, we are always only one <a href="mailto:%20felix.lennert@ensae.fr">email</a> away – and will probably just hit Google right away, too, to figure something out for you.</p>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-hvitfeldt_supervised_2022" class="csl-entry">
Hvitfeldt, Emil, and Julia Silge. 2022. <em>Supervised Machine Learning for Text Analysis in <span>R</span></em>. First edition. Data Science Series. <span>Boca Raton London New York</span>: <span>CRC Press, Taylor &amp; Francis Group</span>.
</div>
<div id="ref-kuhn_tidymodels_2020" class="csl-entry">
Kuhn, Max, and Hadley Wickham. 2020. <span>“Tidymodels: A Collection of Packages for Modeling and Machine Learning Using Tidyverse Principles.”</span>
</div>
<div id="ref-silge_tidytext_2016" class="csl-entry">
Silge, Julia, and David Robinson. 2016. <span>“Tidytext: <span>Text Mining</span> and <span>Analysis Using Tidy Data Principles</span> in <span>R</span>.”</span> <em>The Journal of Open Source Software</em> 1 (3): 37. <a href="https://doi.org/10.21105/joss.00037">https://doi.org/10.21105/joss.00037</a>.
</div>
<div id="ref-silge_text_2017" class="csl-entry">
———. 2017. <em>Text Mining with <span>R</span>: A Tidy Approach</em>. First edition. <span>Beijing ; Boston</span>: <span>O’Reilly</span>.
</div>
<div id="ref-wickham_welcome_2019" class="csl-entry">
Wickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy McGowan, Romain François, Garrett Grolemund, et al. 2019. <span>“Welcome to the <span>Tidyverse</span>.”</span> <em>Journal of Open Source Software</em> 4 (43): 1686. <a href="https://doi.org/10.21105/joss.01686">https://doi.org/10.21105/joss.01686</a>.
</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>CREST, École Polytechnique<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>CREST, École Polytechnique; to whom correspondence should be addressed, <code>felix.lennert@ensae.fr</code><a href="#fnref2" class="footnote-back">↩︎</a></p></li>
<li id="fn3"><p>CREST, École Polytechnique<a href="#fnref3" class="footnote-back">↩︎</a></p></li>
<li id="fn4"><p>Hence, you can also file a pull request if you have found a flaw.<a href="index.html#fnref4" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>

<a href="day2.html" class="navigation navigation-next navigation-unique" aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/index.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
